{% macro newPie(id, name, data) %}

  <div>
    <h4>{{ name }}</h4>
    <canvas id="{{ id }}" width="600" height="400" data-type="Pie"></canvas>
  </div>
  <script src="{{ url_for('report____.static', filename='js/Chart.min.js') }}"></script>
  <script type="text/javascript">
    $(function () {
      var ctx = $("#{{ id }}").get(0).getContext("2d");
      var data = {{ data|safe }};
      options = {
        //Boolean - Whether we should show a stroke on each segment
        segmentShowStroke: true,

        //String - The colour of each segment stroke
        segmentStrokeColor: "#fff",

        //Number - The width of each segment stroke
        segmentStrokeWidth: 2,

        //Boolean - Whether we should animate the chart
        animation: true,

        //Number - Amount of animation steps
        animationSteps: 100,

        //String - Animation easing effect
        animationEasing: "easeOutBounce",

        //Boolean - Whether we animate the rotation of the Pie
        animateRotate: true,

        //Boolean - Whether we animate scaling the Pie from the centre
        animateScale: false,

        //Function - Will fire on animation completion.
        onAnimationComplete: null
      };
      var myChart = new Chart(ctx).Pie(data, options);
    })
  </script>
{% endmacro %}